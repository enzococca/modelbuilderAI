{
  "nodes": [
    {
      "id": "node_1",
      "type": "input",
      "position": { "x": 350, "y": 30 },
      "data": {
        "label": "File GIS",
        "inputType": "file",
        "defaultValue": "/path/to/data.gpkg"
      }
    },
    {
      "id": "node_2",
      "type": "tool",
      "position": { "x": 100, "y": 200 },
      "data": {
        "label": "Info Dati GIS",
        "tool": "gis_tool",
        "operation": "info"
      }
    },
    {
      "id": "node_3",
      "type": "tool",
      "position": { "x": 350, "y": 200 },
      "data": {
        "label": "Analisi Vettoriale",
        "tool": "gis_tool",
        "operation": "vector_analysis",
        "analysis_type": "summary"
      }
    },
    {
      "id": "node_4",
      "type": "tool",
      "position": { "x": 600, "y": 200 },
      "data": {
        "label": "Genera Mappa",
        "tool": "gis_tool",
        "operation": "map",
        "title": "Mappa Analisi",
        "colormap": "viridis"
      }
    },
    {
      "id": "node_5",
      "type": "aggregator",
      "position": { "x": 350, "y": 400 },
      "data": {
        "label": "Combina Risultati",
        "strategy": "concatenate",
        "separator": "\n\n---\n\n"
      }
    },
    {
      "id": "node_6",
      "type": "agent",
      "position": { "x": 350, "y": 560 },
      "data": {
        "label": "Report GIS",
        "model": "claude-sonnet-4-5-20250929",
        "systemPrompt": "Sei un esperto GIS. Ricevi i risultati di un'analisi geospaziale che include:\n- Metadati del file\n- Analisi vettoriale (aree, lunghezze, centroidi)\n- Una mappa generata\n\nCrea un report professionale che:\n1. Descriva il dataset (CRS, features, estensione)\n2. Riassuma le statistiche geometriche\n3. Identifichi pattern spaziali\n4. Suggerisca ulteriori analisi utili\n\nFormatta in Markdown.",
        "temperature": 0.5,
        "maxTokens": 4096
      }
    },
    {
      "id": "node_7",
      "type": "output",
      "position": { "x": 350, "y": 730 },
      "data": { "label": "Report GIS + Mappa", "outputFormat": "markdown" }
    }
  ],
  "edges": [
    { "id": "e1-2", "source": "node_1", "target": "node_2" },
    { "id": "e1-3", "source": "node_1", "target": "node_3" },
    { "id": "e1-4", "source": "node_1", "target": "node_4" },
    { "id": "e2-5", "source": "node_2", "target": "node_5" },
    { "id": "e3-5", "source": "node_3", "target": "node_5" },
    { "id": "e4-5", "source": "node_4", "target": "node_5" },
    { "id": "e5-6", "source": "node_5", "target": "node_6" },
    { "id": "e6-7", "source": "node_6", "target": "node_7" }
  ]
}
