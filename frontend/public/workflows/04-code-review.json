{
  "nodes": [
    {
      "id": "node_1",
      "type": "input",
      "position": { "x": 350, "y": 30 },
      "data": { "label": "Codice", "inputType": "text", "defaultValue": "def process_data(data):\n    result = []\n    for i in range(len(data)):\n        if data[i] > 0:\n            result.append(data[i] * 2)\n    return result" }
    },
    {
      "id": "node_2",
      "type": "agent",
      "position": { "x": 100, "y": 200 },
      "data": { "label": "Bug Finder", "model": "claude-sonnet-4-5-20250929", "systemPrompt": "Sei un esperto di bug detection. Analizza il codice e trova:\n- Bug logici\n- Edge case non gestiti\n- Errori di tipo\n- Race condition\nPer ogni bug: descrivi il problema, indica la riga, suggerisci il fix.\nRispondi in formato JSON: [{\"line\": N, \"severity\": \"high|medium|low\", \"issue\": \"...\", \"fix\": \"...\"}]", "temperature": 0.3, "maxTokens": 4096 }
    },
    {
      "id": "node_3",
      "type": "agent",
      "position": { "x": 350, "y": 200 },
      "data": { "label": "Performance", "model": "claude-sonnet-4-5-20250929", "systemPrompt": "Sei un esperto di performance. Analizza il codice e identifica:\n- Complessità algoritmica (Big O)\n- Memory leak potenziali\n- Operazioni costose in loop\n- Opportunità di caching\nRispondi in formato JSON: [{\"line\": N, \"impact\": \"high|medium|low\", \"issue\": \"...\", \"suggestion\": \"...\"}]", "temperature": 0.3, "maxTokens": 4096 }
    },
    {
      "id": "node_4",
      "type": "agent",
      "position": { "x": 600, "y": 200 },
      "data": { "label": "Security", "model": "claude-sonnet-4-5-20250929", "systemPrompt": "Sei un esperto di sicurezza. Analizza il codice per:\n- SQL injection\n- XSS vulnerabilities\n- Gestione insicura di input utente\n- Secrets hardcoded\n- Dipendenze con CVE note\nRispondi in formato JSON: [{\"line\": N, \"severity\": \"critical|high|medium|low\", \"vulnerability\": \"...\", \"remediation\": \"...\"}]", "temperature": 0.3, "maxTokens": 4096 }
    },
    {
      "id": "node_5",
      "type": "aggregator",
      "position": { "x": 350, "y": 380 },
      "data": { "label": "Raccogli Review", "strategy": "concatenate", "separator": "\n\n---\n\n" }
    },
    {
      "id": "node_6",
      "type": "agent",
      "position": { "x": 350, "y": 530 },
      "data": { "label": "Verdetto Finale", "model": "claude-opus-4-6", "systemPrompt": "Ricevi 3 review di codice (bug, performance, sicurezza) in formato JSON.\nScrivi un report unificato di code review con:\n\n## Sommario\n- Score complessivo: A/B/C/D/F\n- Problemi critici: N\n- Problemi totali: N\n\n## Problemi Critici (da fixare subito)\n...\n\n## Miglioramenti Consigliati\n...\n\n## Codice Refactored\nMostra il codice corretto con tutti i fix applicati.", "temperature": 0.5, "maxTokens": 8192 }
    },
    {
      "id": "node_7",
      "type": "output",
      "position": { "x": 350, "y": 690 },
      "data": { "label": "Code Review", "outputFormat": "markdown" }
    }
  ],
  "edges": [
    { "id": "e1-2", "source": "node_1", "target": "node_2" },
    { "id": "e1-3", "source": "node_1", "target": "node_3" },
    { "id": "e1-4", "source": "node_1", "target": "node_4" },
    { "id": "e2-5", "source": "node_2", "target": "node_5" },
    { "id": "e3-5", "source": "node_3", "target": "node_5" },
    { "id": "e4-5", "source": "node_4", "target": "node_5" },
    { "id": "e5-6", "source": "node_5", "target": "node_6" },
    { "id": "e6-7", "source": "node_6", "target": "node_7" }
  ]
}
